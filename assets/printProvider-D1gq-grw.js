import{R as n}from"./index-BUVdxLJQ.js";const p={purchase:{name:"采购单",description:"采购单打印模板",basicFields:[{key:"order_sn",label:"采购编号",type:"text",width:64,testData:"@采购编号"},{key:"staff.name",label:"经手人",type:"text",width:42,testData:"@经手人"},{key:"supplier.name",label:"供应单位",type:"text",width:58,testData:"@供应单位"},{key:"supplier.phone",label:"电话",type:"text",width:64,testData:"@电话"},{key:"warehouse.name",label:"仓库",type:"text",width:42,testData:"@仓库"},{key:"created_at",label:"制单时间",type:"datetime",width:58,testData:"@制单时间"},{key:"all_price",label:"订单金额",type:"currency",width:53,align:"left",testData:"@订单金额"},{key:"pay_price",label:"已付金额",type:"currency",width:53,align:"left",testData:"@已付金额"},{key:"qian_price",label:"应付金额",type:"currency",width:53,align:"left",testData:"@应付金额"},{key:"status",label:"状态",type:"text",width:42,testData:"@状态"},{key:"remark",label:"备注",type:"longText",width:193,height:21,testData:"@备注"}],listFields:[{key:"purchaseGoods",label:"货品信息",type:"table",columns:[{key:"goods_name",label:"货品",width:70,testData:"@货品"},{key:"num",label:"数量(重量)",width:53,align:"left",testData:"@数量(重量)"},{key:"f_stock",label:"副单位",width:35,align:"left",testData:"@副单位"},{key:"unit_price",label:"单价",width:35,align:"left",testData:"@单价"},{key:"subtotal",label:"小计",width:35,align:"left",testData:"@小计"}]},{key:"purchasePay",label:"还款记录",type:"table",columns:[{key:"price",label:"付款金额",width:96,align:"left",testData:"@付款金额"},{key:"created_at",label:"付款时间",width:96,testData:"@付款时间"}]}]},order:{name:"销售单",description:"销售单打印模板",basicFields:[{key:"order_sn",label:"销售单号",type:"text",width:64,testData:"@销售单号"},{key:"staff.name",label:"经手人",type:"text",width:42,testData:"@经手人"},{key:"customer.name",label:"客户名称",type:"text",width:64,testData:"@客户名称"},{key:"customer.phone",label:"电话",type:"text",width:64,testData:"@电话"},{key:"warehouse.name",label:"仓库",type:"text",width:53,testData:"@仓库"},{key:"created_at",label:"制单时间",type:"datetime",width:64,testData:"@制单时间"},{key:"all_price",label:"订单金额",type:"currency",width:53,align:"left",testData:"@订单金额"},{key:"pay_price",label:"已收金额",type:"currency",width:53,align:"left",testData:"@已收金额"},{key:"qian_price",label:"应收金额",type:"currency",width:53,align:"left",testData:"@应收金额"},{key:"status",label:"状态",type:"text",width:42,testData:"@状态"},{key:"remark",label:"备注",type:"longText",width:193,height:21,testData:"@备注"}],listFields:[{key:"orderGoods",label:"货品信息",type:"table",columns:[{key:"goods_name",label:"货品",width:70,testData:"@货品"},{key:"num",label:"数量(重量)",width:53,align:"left",testData:"@数量(重量)"},{key:"f_stock",label:"副单位",width:35,align:"left",testData:"@副单位"},{key:"unit_price",label:"单价",width:35,align:"left",testData:"@单价"},{key:"subtotal",label:"小计",width:35,align:"left",testData:"@小计"}]},{key:"payable",label:"收款记录",type:"table",columns:[{key:"price",label:"收款金额",width:96,align:"left",testData:"@收款金额"},{key:"cash_bank_account.name",label:"支付方式",width:96,testData:"@支付方式"},{key:"created_at",label:"收款时间",width:96,testData:"@收款时间"},{key:"mark",label:"备注",width:96,testData:"@备注"}]}]},transfer:{name:"调拨单",description:"调拨单打印模板",basicFields:[{key:"order_sn",label:"调拨单号",type:"text",width:64,testData:"@调拨单号"},{key:"outWarehouse.name",label:"调出仓库",type:"text",width:64,testData:"@调出仓库"},{key:"inWarehouse.name",label:"调入仓库",type:"text",width:64,testData:"@调入仓库"},{key:"user.name",label:"经手人",type:"text",width:42,testData:"@经手人"},{key:"is_variable_price",label:"调拨类型",type:"text",width:53,testData:"@调拨类型"},{key:"total_amount",label:"调拨金额",type:"currency",width:53,align:"left",testData:"@调拨金额"},{key:"created_at",label:"制单时间",type:"datetime",width:64,testData:"@制单时间"},{key:"remark",label:"备注",type:"longText",width:193,height:21,testData:"@备注"}],listFields:[{key:"record_list",label:"商品明细",type:"table",columns:[{key:"goods.name",label:"商品名称",width:53,testData:"@商品名称"},{key:"goods.spec_id",label:"规格",width:35,testData:"@规格"},{key:"quantity",label:"调出数量",width:35,align:"left",testData:"@调出数量"},{key:"num",label:"副单位",width:35,align:"left",testData:"@副单位"},{key:"amount",label:"金额",width:35,align:"left",type:"currency",testData:"@金额"}]}]},inventory:{name:"盘点单",description:"盘点单打印模板",basicFields:[{key:"sn",label:"盘点编号",type:"text",width:64,testData:"@盘点编号"},{key:"createdAt",label:"盘点日期",type:"datetime",width:64,testData:"@盘点日期"},{key:"creator",label:"创建人",type:"text",width:42,testData:"@创建人"},{key:"header.staff",label:"盘点人",type:"text",width:42,testData:"@盘点人"},{key:"header.cates",label:"盘点分类",type:"text",width:64,testData:"@盘点分类"},{key:"header.start",label:"盘点时间",type:"datetime",width:64,testData:"@盘点时间"},{key:"header.end",label:"完成时间",type:"datetime",width:64,testData:"@完成时间"},{key:"stats.total",label:"盘点总数",type:"number",width:53,align:"left",testData:"@盘点总数"},{key:"profitPrice",label:"盘点盈利",type:"currency",width:53,align:"left",testData:"@盘点盈利"},{key:"lossPrice",label:"盘点亏损",type:"currency",width:53,align:"left",testData:"@盘点亏损"}],listFields:[{key:"items",label:"盘点明细",type:"table",columns:[{key:"name",label:"商品名称",width:70,testData:"@商品名称"},{key:"stockText",label:"盘前数量",width:53,testData:"@盘前数量"},{key:"realText",label:"实盘数量",width:53,testData:"@实盘数量"},{key:"diffText",label:"差异",width:42,align:"left",testData:"@差异"}]}]}},x=i=>p[i]||null,T=()=>Object.keys(p).map(i=>({id:i,name:p[i].name,description:p[i].description}));function E(i){this.pageType=i;var w=function(h){h.removePrintElementTypes("defaultModule"),h.removePrintElementTypes("receiptModule");const l=i?x(i):null,b=l?l.basicFields.map(t=>{const a=t.key.replace(/\./g,"_");return{tid:`defaultModule.${a}`,type:t.type==="longText"?"longText":"text",title:t.label,options:{title:t.label,field:a,width:t.width||100,height:t.height||20,fontSize:12,fontWeight:"normal",textAlign:t.align||"left",color:"#000000",...t.testData&&{testData:t.testData}}}}):[],c=l?l.listFields.map(t=>{const a=t.key.replace(/\./g,"_"),o=[];if(t.columns.some(e=>e.testData)){const e={};t.columns.forEach(r=>{const y=r.key.replace(/\./g,"_");e[y]=r.testData||""}),o.push(e)}return{tid:`defaultModule.${a}`,type:"table",title:t.label,options:{title:t.label,field:a,width:400,height:120,fontFamily:"宋体",fontSize:9,lineHeight:9.75,textAlign:"left",tableBorder:"border",tableHeaderBorder:"border",tableHeaderCellBorder:"border",tableHeaderRowHeight:22,tableHeaderBackground:"#f0f0f0",tableHeaderFontSize:9,tableHeaderFontWeight:"bold",tableBodyCellBorder:"border",tableBodyRowBorder:"border",tableBodyRowHeight:20,lHeight:80,...o.length>0&&{testData:o}},columns:[t.columns.map(e=>{const r=e.key.replace(/\./g,"_");return{width:e.width,title:e.label,field:r,align:e.align||"left",halign:"center",...e.testData&&{testData:e.testData}}})]}}):[],m=[{tid:"defaultModule.text",type:"text",title:"文本",options:{title:"文本",field:"text",width:100,height:20,fontSize:12,fontWeight:"normal",textAlign:"left",color:"#000000"}},{tid:"defaultModule.longText",type:"longText",title:"长文本",options:{title:"长文本",field:"longText",width:200,height:40,fontSize:12,fontWeight:"normal",textAlign:"left",color:"#000000"}},{tid:"defaultModule.image",type:"image",title:"图片",options:{title:"图片",field:"image",width:100,height:100,src:""}},{tid:"defaultModule.qrcode",type:"qrcode",title:"二维码",options:{title:"二维码",field:"qrcode",width:80,height:80}}],f=[{tid:"defaultModule.hline",type:"hline",title:"横线",options:{title:"横线",width:200,height:1,borderWidth:1,borderColor:"#000000"}},{tid:"defaultModule.vline",type:"vline",title:"竖线",options:{title:"竖线",width:1,height:100,borderWidth:1,borderColor:"#000000"}},{tid:"defaultModule.rect",type:"rect",title:"矩形",options:{title:"矩形",width:100,height:50,borderWidth:1,borderColor:"#000000",backgroundColor:"transparent"}}],g=l?l.basicFields.map(t=>{const a=t.key.replace(/\./g,"_");return{tid:`receiptModule.${a}`,type:t.type==="longText"?"longText":"text",title:t.label+"(小票)",options:{title:t.label,field:a,width:t.width||100,height:t.height||16,fontSize:9,fontWeight:"normal",textAlign:t.align||"left",color:"#000000",...t.testData&&{testData:t.testData}}}}):[],u=l?l.listFields.map(t=>{const a=t.key.replace(/\./g,"_"),o=[];if(t.columns.some(e=>e.testData)){const e={};t.columns.forEach(r=>{const y=r.key.replace(/\./g,"_");e[y]=r.testData||""}),o.push(e)}return{tid:`receiptModule.${a}`,type:"table",title:t.label+"(小票)",options:{title:t.label,field:a,width:300,height:80,fontFamily:"宋体",fontSize:8,lineHeight:8.5,textAlign:"left",tableBorder:"border",tableHeaderBorder:"border",tableHeaderCellBorder:"border",tableHeaderRowHeight:16,tableHeaderBackground:"#f0f0f0",tableHeaderFontSize:8,tableHeaderFontWeight:"bold",tableBodyCellBorder:"border",tableBodyRowBorder:"border",tableBodyRowHeight:16,lHeight:60,...o.length>0&&{testData:o}},columns:[t.columns.map(e=>{const r=e.key.replace(/\./g,"_");return{width:e.width,title:e.label,field:r,align:e.align||"left",halign:"center",...e.testData&&{testData:e.testData}}})]}}):[],k=[{tid:"receiptModule.text",type:"text",title:"文本(小票)",options:{title:"文本",field:"text",width:80,height:16,fontSize:9,fontWeight:"normal",textAlign:"left",color:"#000000"}},{tid:"receiptModule.longText",type:"longText",title:"长文本(小票)",options:{title:"长文本",field:"longText",width:160,height:32,fontSize:9,fontWeight:"normal",textAlign:"left",color:"#000000"}},{tid:"receiptModule.image",type:"image",title:"图片(小票)",options:{title:"图片",field:"image",width:80,height:80,src:""}},{tid:"receiptModule.qrcode",type:"qrcode",title:"二维码(小票)",options:{title:"二维码",field:"qrcode",width:60,height:60}}],D=[{tid:"receiptModule.hline",type:"hline",title:"横线(小票)",options:{title:"横线",width:160,height:1,borderWidth:1,borderColor:"#000000"}},{tid:"receiptModule.vline",type:"vline",title:"竖线(小票)",options:{title:"竖线",width:1,height:80,borderWidth:1,borderColor:"#000000"}},{tid:"receiptModule.rect",type:"rect",title:"矩形(小票)",options:{title:"矩形",width:80,height:40,borderWidth:1,borderColor:"#000000",backgroundColor:"transparent"}}],s=[];l&&(b.length>0&&s.push(new n.hiprint.PrintElementTypeGroup("页面字段",b)),c.length>0&&s.push(new n.hiprint.PrintElementTypeGroup("列表字段",c))),s.push(new n.hiprint.PrintElementTypeGroup("通用元素",m)),s.push(new n.hiprint.PrintElementTypeGroup("辅助",f)),h.addPrintElementTypes("defaultModule",s);const d=[];l&&(g.length>0&&d.push(new n.hiprint.PrintElementTypeGroup("页面字段(小票)",g)),u.length>0&&d.push(new n.hiprint.PrintElementTypeGroup("列表字段(小票)",u))),d.push(new n.hiprint.PrintElementTypeGroup("通用元素(小票)",k)),d.push(new n.hiprint.PrintElementTypeGroup("辅助(小票)",D)),h.addPrintElementTypes("receiptModule",d)};return{addElementTypes:w}}export{E as C,T as a,x as g};
